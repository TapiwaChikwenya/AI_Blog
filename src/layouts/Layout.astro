---
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import AdSidebar from '../components/AdSidebar.astro';

interface Props {
  title: string;
  isAdminPage?: boolean;
}

const { title, isAdminPage = false } = Astro.props;
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="description" content="Latest AI News and Weekly Newsletter" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <!-- <meta name="generator" content={Astro.generator} /> -->
    <title>{title}</title>
    <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CESIVKJW&placement=example" id="_carbonads_js"></script>
  </head>
  <body class="bg-gradient-to-br from-indigo-50 to-white min-h-screen">
    <Header />
    <div class="max-w-6xl mx-auto px-4 py-8 flex gap-8">
      <main class="flex-1 max-w-4xl">
        <slot />
      </main>
      <aside class="hidden lg:block w-64 space-y-6">
        <AdSidebar />
      </aside>
    </div>
    <Footer />
  </body>
</html>

<style is:global>
  #carbonads {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", Helvetica, Arial, sans-serif;
    max-width: 300px;
    border-radius: 0.5rem;
    background-color: #fff;
    box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1);
  }

  #carbonads > span {
    display: block;
    padding: 15px;
  }

  .carbon-wrap {
    display: flex;
    gap: 10px;
  }

  .carbon-img {
    margin: 0;
    line-height: 1;
  }

  .carbon-text {
    color: #637381;
    text-decoration: none;
    font-size: 0.875rem;
    line-height: 1.4;
  }

  .carbon-poweredby {
    display: block;
    margin-top: 10px;
    color: #c5cdd0;
    text-decoration: none;
    font-size: 0.75rem;
    font-weight: 500;
  }
</style>

<footer class="mt-8 py-4 text-center text-sm text-gray-500">
  <p>&copy; 2023 AI News Weekly. All rights reserved.</p>
  {!isAdminPage && (
    <a href="/admin/login" class="mt-2 inline-block text-xs text-purple-600 hover:text-purple-800">Admin</a>
  )}
</footer>
